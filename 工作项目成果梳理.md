# 工作项目成果梳理

当用户需要通过业务接口的某个方法访问服务端资源时，只要在成员变量上标注 @REST 注解就能为其注入一个 Retrofit 客户端，可以像访问本地服务一样去访问远程服务。具体实现方式是通过动态代理为业务接口生成对应的代理类，当用户调用业务接口的某个方法时，就会触发 RestWebServiceInvocationHandler 的 invoke() 方法创建一个 Retrofit 客户端，然后再利用反射机制调用由 Retrofit 生成的代理类中的方法从而实现请求的发送。在本模块设计之初就希望摒弃常规的使用方式，尽可能屏蔽客户端的底层实现，方便业务开发人员。因此通过梳理 Retrofit 的源码选择继承 CallAdapter.Factory 抽象类实现自定义工厂类。这其中不仅覆写了它的 get() 方法，旨在根据方法的返回值类型筛选出目标 CallAdapter，同时覆写了其内部 adapt() 方法的执行逻辑，目的是不再直接将 Call 对象的引用返回给业务层，而是直接调用 execute() 方法向服务端发起请求，并将经过反序列化后的结果返回给业务层。
